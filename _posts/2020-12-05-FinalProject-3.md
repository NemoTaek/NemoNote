---
title: "Final Project 2주차"
tags:
  - Project
---

별로 한것도 없는데 벌써 2주차가 시작되었다.  
~~망했다...~~

## 첫째날  

본격적으로 React Hooks를 사용했다.  
useState, UseEffect과 같은 hooks를 공부하고 적용해보는 시간을 가졌다.  
확실히 사용하고 나니 state 관리가 편해진 느낌이 들었다.  

하지만 props를 이용해서 컴포넌트 간에 내려주고 올려주는 상황은 여전히 필요했다.  
지금은 괜찮지만 프로젝트 크기가 커지면 나중에 상태관리가 힘들어질 것 같아서 Redux를 사용해보기로 합의하고 오늘 하루를 마쳤다.  

## 둘째날

어제의 hooks에 이어 Redux까지 공부하기 시작했다.  
hooks는 react를 기반으로 한 것이라 이해가 어느정도 잘 되었지만, Redux는 거의 새로 배우는 내용이라 한번에 이해가 가지는 않았다.  
store, action, reducer, container 등등.. 고려할 것이 많아졌다.  

Redux의 과정은  
> Action 타입 정의 -> Action 생성 -> Initial State 설정 -> Reducer 함수 생성 -> 작성된 Reducer을 store에 연결 -> store 내의 상태와 Action 생성 함수를 컴포넌트에 전달 -> 컴포넌트에서 사용`  
으로 요약할 수 있을 것 같다.  

하지만 오류만 내뱉고 오늘 하루는 거의 수확이 없었다. 그냥 공부만 하다가 하루가 다 가버렸다.  
내일은 부디 실행이 되기를 바라며..

## 셋째날

서로 지금까지 작성한 내용을 같이 보며 공부했던 것을 공유했다.  
사람이 생각하는 것은 비슷한지 오류도 비슷하게 났다.  
그래서 오늘도 파이팅! 하며 다시 공부에 들어갔다.  

오늘 하루도 거의 공칠뻔했지만 마지막에 실행이 되며 감동의 쓰나미가 찾아왔다.  
정확한 이유는 모르겠지만, 일반적인 방법이 아닌 `useSelector, useDispatch, useCallback`을 사용하니 실행이 되었다.  
하지만 감동도 잠시, 페이지 내에서 상태 관리는 되지만 `새로고침`을 하면 상태가 초기화 되는것을 알 수 있었다.  
다시 절망감을 느끼며 오늘 하루도 마무리가 되었다.  

팁으로 redux-logger를 사용하면 현재 store 상태를 console로 확인할 수 있다.  

## 넷째날

어제 된 부분에 대하여 같이 공유를 하고 다시 새로고침하면 초기화되는 문제를 해결하러 출동했다.  
문제가 명확하니 답을 찾는것도 그리 어렵지 않았다.  
redux-persist를 사용하면 된다고 가르침을 받았다.  
persistStore로 redux-persist 내의 lib/storage에(local storage인듯 하다.) store 상태를 저장한다고 한다.  
이렇게 바로 상태를 저장하는 방법까지 알게되어 이제 모든 페이지에 적용하기로 했다.  

이제 내비게이션 바에도 로그인 상태 유무에 따라 메뉴도 바뀌고, 로그인을 하면 로그인이 true, 로그아웃을 하면 로그인이 false로 바뀌게 되었다.  
탄력을 받아 로그인 시에 입력하는 id, password를 저장하고 id 기억하기 기능도 추가했다.  
오늘은 지난번에 비해서 성과가 넘치는 날이었다.  

## 마지막날

로그인 페이지에 웬만한 기능은 추가가 되었으니 보기 좋게 꾸며야겠다.  
꾸민 후에 로그아웃 모달창과 OAuth 기능을 추가하였다.  
이제 기능을 테스트해봐야겠다.  
그런데 아이디 기억하기 체크박스를 추가하니 기능이 꼬여버렸다. 되던게 안되버렸다... ㅠㅠ  
계속 아이디 기억하는 state가 undefined가 나온다.  
오늘 하루가 거의 끝나간 시점에도 고쳐지지 않았다.  
다음에 계속 만져봐야겠다.  


※ 10시간 넘게 삽질한 결과 redux에서 1개의 action 상태 변수가 3개를 넘기면 다음부터 인식이 안되는 것으로 보였다.  
   이유는 아직 모르겠다. 나중에 찾아보자...


